{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\for_sell\\\\bator\\\\front\\\\src\\\\App.js\";\nimport React from 'react';\nimport Context, { MyContext } from \"./Context\";\nimport Content from \"./Content\";\nimport Header from \"./Header\";\nimport Menu from \"./Menu\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoaded: false,\n      film: null,\n      hall: null,\n      place: null,\n      price: null,\n      ticket: null,\n      schedule: null\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: \"#151719\",\n        color: \"#c1caca\",\n        minHeight: \"100vh\"\n      },\n      children: (() => {\n        if (!this.state.isLoaded) {\n          let basicString = \"http://localhost:3001/\";\n          let tables = [\"film\", \"hall\", \"place\", \"price\", \"ticket\", \"schedule\"];\n\n          for (let i of tables) {\n            if (this.state[i] === null) {\n              fetch(basicString + \"select * from \" + i).then(resolve => {\n                resolve.json().then(json => {\n                  let newState = this.state;\n                  newState[i] = json;\n                  console.log(json);\n                  newState.isLoaded = newState.films !== null && newState.hall !== null && newState.places !== null && newState.price !== null && newState.ticket !== null && newState.schedule !== null;\n                  this.setState(newState);\n                }, reason => {\n                  console.log(reason);\n                });\n              }, reject => {\n                console.log(reject);\n              });\n            }\n          }\n\n          return \"Loading\";\n        }\n\n        console.log(\"_____\");\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(MyContext.Consumer, {\n            children: context => {\n              context.setData(this.state);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Content, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 41\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this);\n      })()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/User/Desktop/for_sell/bator/front/src/App.js"],"names":["React","Context","MyContext","Content","Header","Menu","App","Component","constructor","state","isLoaded","film","hall","place","price","ticket","schedule","render","backgroundColor","color","minHeight","basicString","tables","i","fetch","then","resolve","json","newState","console","log","films","places","setState","reason","reject","context","setData"],"mappings":"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","sourcesContent":["import  React from 'react'\r\nimport Context, {MyContext} from \"./Context\";\r\nimport Content from \"./Content\";\r\nimport Header from \"./Header\";\r\nimport Menu from \"./Menu\";\r\nclass App extends React.Component{\r\n    constructor() {\r\n        super();\r\n        this.state  ={\r\n            isLoaded: false,\r\n            film: null,\r\n            hall: null,\r\n            place: null,\r\n            price: null,\r\n            ticket: null,\r\n            schedule: null,\r\n        }\r\n\r\n\r\n    }\r\n    render() {\r\n        return (<div style={{backgroundColor: \"#151719\", color: \"#c1caca\", minHeight: \"100vh\"}}>\r\n                {(()=>{\r\n                    if (!this.state.isLoaded)\r\n                    {\r\n                        let basicString = \"http://localhost:3001/\";\r\n                        let tables = [\"film\", \"hall\", \"place\",\"price\", \"ticket\", \"schedule\"]\r\n                        for (let i of tables)\r\n                        {\r\n                            if (this.state[i] === null){\r\n                                fetch(basicString+\"select * from \"+i).then(\r\n                                    (resolve)=>{\r\n                                        resolve.json().then(\r\n                                            (json)=>{\r\n                                                let newState = this.state;\r\n                                                newState[i] = json;\r\n                                                console.log(json)\r\n                                                newState.isLoaded = (newState.films !== null) && (newState.hall !== null) &&\r\n                                                    (newState.places !== null) && (newState.price !== null) && (newState.ticket !== null) &&\r\n                                                    (newState.schedule !== null);\r\n                                                this.setState(newState);\r\n\r\n                                            }, reason => {\r\n                                                console.log(reason)\r\n                                            })\r\n                                    },\r\n                                    (reject)=>{\r\n                                       console.log(reject)\r\n                                    })\r\n                            }\r\n                        }\r\n                        return \"Loading\";\r\n                    }\r\n                    console.log(\"_____\")\r\n\r\n                    return (\r\n                        <div>\r\n                            <MyContext.Consumer>\r\n                                {(context)=>{\r\n                                    context.setData(this.state)\r\n                                    return (\r\n                                        <div>\r\n                                            <Header/>\r\n                                            <Menu/>\r\n                                            <Content/>\r\n                                    </div>)\r\n                                }}\r\n                            </MyContext.Consumer>\r\n                        </div>\r\n                    )\r\n                })()}\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}